<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Profile</title>
</head>
<body>
<div *ngIf="loggedIn()">
    <div >
        <nav class="profile-button">
            <button class="btn btn-default" (click)="onAssignedServiceClick()">Assigned Service request</button>
            <button class="btn btn-default" (click)="onUnassignedServiceClick()">Unassigned Service request</button>
            <button class="btn btn-default" (click)="onAssignedSenderClick()">Assigned Parcel request</button>
            <button class="btn btn-default" (click)="onUnassignedSenderClick()">Unassigned Parcel request</button>
            <button class="btn btn-default" (click)="onReceivingRequestStatusClick()">Receiving Parcel Request</button>
        </nav>
    </div>
<div >
    <div *ngIf="unassignedServiceRequests" [hidden]="!showDetails">
        <ul *ngFor="let request of unassignedServiceRequests | paginate: { itemsPerPage: 3, currentPage: p }" class="form-style-10">
            <h3>Request Details:</h3>
            <li>Journey Date:   <b>{{request.journeyDate}}</b></li>
            <h4 >Service Provider Details</h4>
            <li >Provider Name : <b>{{request.name}}</b></li>
            <li >Provider Email : <b>{{request.email}}</b></li>
            <li >Provider Contact Number :  <b>{{request.phone}}</b></li>
            <li >Provider Address : <b>{{request.destinationAddreddaddressLine1}}</b></li>
            <li > <b>{{request.destinationAddreddaddressLine2}}</b></li>
            <li >Current City : <b>{{request.currentCity}}</b></li>
            <li >Destination City : <b>{{request.destinationCity}}</b></li>
            <h4>Parcel Details:</h4>
            <li>Parcel Weight Capacity :  <b>{{request.maxParcelWeight}}</b> pound</li>
            <li>Parcel Height Dimension : <b>{{request.maxParcelHeight}}</b> cm.</li>
            <li>Parcel length Dimension : <b>{{request.maxParcelLength}}</b> cm.</li>
            <li>Parcel Width Dimension :  <b>{{request.maxParcelWidth}}</b> cm.</li>
            <button class="button-cancel" (click)="onCancelClick(request._id, 'Service')">Cancel</button>
            <button class="button-update" (click)="onUpdateClick(request._id, 'Service')">Update</button>
        </ul>
        <pagination-controls (pageChange)="p = $event" #api>
        </pagination-controls>
    </div>
    <div *ngIf="unassignedServiceRequests" [hidden]="showDetails" class="form-style-10"><h3>No Unassigned Service Requests</h3></div>

    <div *ngIf="assignedServiceRequests" [hidden]="!showDetails" >
        <ul *ngFor="let request of assignedServiceRequests | paginate: { itemsPerPage: 3, currentPage: p }" class="form-style-10">
            <h3>Request Details:</h3>
            <li>Journey Date:   <b>{{request.serviceProvider.journeyDate}}</b></li>
            <h4>Parcel Details:</h4>
            <li>Parcel Description : <b>{{request.parcelDisclosure}}</b></li>
            <li>Parcel Weight Capacity :  <b>{{request.parcelWeight}}</b> pound</li>
            <li>Parcel Height Dimension : <b>{{request.parcelHeight}}</b> cm.</li>
            <li>Parcel length Dimension : <b>{{request.parcelLength}}</b> cm.</li>
            <li>Parcel Width Dimension :  <b>{{request.parcelWidth}}</b> cm.</li>
            <h4>Sender Details</h4>
            <li>Sender Name : <b>{{request.senderName}}</b></li>
            <li>Sender Email : <b>{{request.senderEmail}}</b></li>
            <li>Sender Contact Number :   <b>{{request.senderPhone}}</b></li>
            <li>Sender Address : <b>{{request.currentAddreddaddressLine1}}</b></li>
            <li> <b>{{request.currentAddreddaddressLine2}}</b></li>
            <li>City : <b>{{request.currentCity}}</b></li>
            <h4>Receiver Details</h4>
            <li>Receiver Name : <b>{{request.receiverName}}</b></li>
            <li>Receiver Email : <b>{{request.receiverEmail}}</b></li>
            <li>Receiver Contact Number :  <b>{{request.receiverPhone}}</b></li>
            <li>Receiver Address : <b>{{request.deliveryAddreddaddressLine1}}</b></li>
            <li> <b>{{request.deliveryAddreddaddressLine2}}</b></li>
            <li>City : <b>{{request.deliveryCity}}</b></li>
            <li *ngIf = "request.status" >Parcel Status :  <b>{{request.status}}</b></li>
            <button *ngIf = "request.status" [hidden] = "request.status !== 'Parcel Given To Service Provider'" class="button-section" (click)="onStatusChangeClick(request._id)">Change Status to Parcel Collected</button>
            <button *ngIf = "request.status" [hidden] = "request.status !== 'Parcel Collected From Sender'" class="button-section" (click)="onStatusChangeClick(request._id)">Change Status to Parcel Delivered</button>
        </ul>
        <pagination-controls (pageChange)="p = $event" #api>
        </pagination-controls>
    </div>
    <div *ngIf="assignedServiceRequests" [hidden]="showDetails" class="form-style-10"><h3>No Assigned Service Requests</h3></div>

    <div *ngIf="unassignedParcelRequests" [hidden]="!showDetails" >
        <ul *ngFor="let request of unassignedParcelRequests | paginate: { itemsPerPage: 3, currentPage: p }" class="form-style-10">
            <h3>Request Details:</h3>
            <li>Receiver Name : <b>{{request.receiverName}}</b></li>
            <li>Parcel Details : <b>{{request.parcelDisclosure}}</b></li>
            <li>Delivery City : <b>{{request.deliveryCity}}</b></li>
            <h4 *ngIf = "request.status">Service Provider Details</h4>
            <li *ngIf = "request.status">Provider Name : <b>{{request.serviceProvider.name}}</b></li>
            <li *ngIf = "request.status">Provider Email : <b>{{request.serviceProvider.email}}</b></li>
            <li *ngIf = "request.status">Provider Contact Number :  <b>{{request.serviceProvider.phone}}</b></li>
            <li *ngIf = "request.status">Provider Address : <b>{{request.serviceProvider.destinationAddreddaddressLine1}}</b></li>
            <li *ngIf = "request.status"> <b>{{request.destinationAddreddaddressLine2}}</b></li>
            <li *ngIf = "request.status">City : <b>{{request.serviceProvider.destinationCity}}</b></li>
            <h4>Parcel Details:</h4>
            <li>Parcel Id : <b>{{request._id}}</b></li>
            <li>Parcel Weight Capacity :  <b>{{request.parcelWeight}}</b> pound</li>
            <li>Parcel Height Dimension : <b>{{request.parcelHeight}}</b> cm.</li>
            <li>Parcel length Dimension : <b>{{request.parcelLength}}</b> cm.</li>
            <li>Parcel Width Dimension :  <b>{{request.parcelWidth}}</b> cm.</li>
            <li *ngIf = "request.status" >Parcel Status :  <b>{{request.status}}</b></li>
            <button *ngIf = "!request.status" class="button-cancel" (click)="onCancelClick(request._id, 'Parcel')">Cancel</button>
            <button *ngIf = "!request.status" class="button-update" (click)="onUpdateClick(request._id, 'Parcel')">Update</button>
            <button *ngIf = "request.status" [hidden] = "request.status !== 'Assigned To Service Provider'" class="button-section" (click)="onStatusChangeClick(request._id)">Change Status to Parcel Given</button>
        </ul>
        <pagination-controls (pageChange)="p = $event" #api>
        </pagination-controls>
    </div>
    <div *ngIf="unassignedParcelRequests" [hidden]="showDetails" class="form-style-10"><h3>No Unassigned Parcel Requests</h3></div>

    <div *ngIf="assignedParcelRequests" [hidden]="!showDetails" >
        <ul *ngFor="let request of assignedParcelRequests | paginate: { itemsPerPage: 3, currentPage: p }" class="form-style-10">
            <h3>Request Details:</h3>
            <li>Receiver Name : <b>{{request.receiverName}}</b></li>
            <li>Parcel Details : <b>{{request.parcelDisclosure}}</b></li>
            <li>Delivery City : <b>{{request.deliveryCity}}</b></li>
            <h4 *ngIf = "request.status">Service Provider Details</h4>
            <li *ngIf = "request.status">Provider Name : <b>{{request.serviceProvider.name}}</b></li>
            <li *ngIf = "request.status">Provider Email : <b>{{request.serviceProvider.email}}</b></li>
            <li *ngIf = "request.status">Provider Contact Number :  <b>{{request.serviceProvider.phone}}</b></li>
            <li *ngIf = "request.status">Provider Address : <b>{{request.serviceProvider.destinationAddreddaddressLine1}}</b></li>
            <li *ngIf = "request.status"> <b>{{request.destinationAddreddaddressLine2}}</b></li>
            <li *ngIf = "request.status">City : <b>{{request.serviceProvider.destinationCity}}</b></li>
            <h4>Parcel Details:</h4>
            <li>Parcel Id : <b>{{request._id}}</b></li>
            <li>Parcel Weight Capacity :  <b>{{request.parcelWeight}}</b> pound</li>
            <li>Parcel Height Dimension : <b>{{request.parcelHeight}}</b> cm.</li>
            <li>Parcel length Dimension : <b>{{request.parcelLength}}</b> cm.</li>
            <li>Parcel Width Dimension :  <b>{{request.parcelWidth}}</b> cm.</li>
            <li *ngIf = "request.status" >Parcel Status :  <b>{{request.status}}</b></li>
            <button *ngIf = "!request.status" class="button-cancel" (click)="onCancelClick(request._id, 'Parcel')">Cancel</button>
            <button *ngIf = "!request.status" class="button-update" (click)="onUpdateClick(request._id, 'Parcel')">Update</button>
            <button *ngIf = "request.status" [hidden] = "request.status !== 'Assigned To Service Provider'" class="button-section" (click)="onStatusChangeClick(request._id)">Change Status to Parcel Given</button>
        </ul>
        <pagination-controls (pageChange)="p = $event" #api>
        </pagination-controls>
    </div>
    <div *ngIf="assignedParcelRequests" [hidden]="showDetails" class="form-style-10"><h3>No Assigned Parcel Requests</h3></div>

    <div *ngIf="parcelReceivingRequests" [hidden]="!showDetails">
        <ul *ngFor="let request of parcelReceivingRequests | paginate: { itemsPerPage: 3, currentPage: p }" class="form-style-10">
            <h3>Request Details:</h3>
            <h4>Parcel Details:</h4>
            <li>Parcel Description : <b>{{request.parcelDisclosure}}</b></li>
            <li>Parcel Weight Capacity :  <b>{{request.parcelWeight}}</b> pound</li>
            <li>Parcel Height Dimension : <b>{{request.parcelHeight}}</b> cm.</li>
            <li>Parcel length Dimension : <b>{{request.parcelLength}}</b> cm.</li>
            <li>Parcel Width Dimension :  <b>{{request.parcelWidth}}</b> cm.</li>
            <li>Parcel Status :  <b>{{request.status}}</b></li>
            <h4>Sender Details</h4>
            <li>Sender Name : <b>{{request.senderName}}</b></li>
            <li>Sender Email : <b>{{request.senderEmail}}</b></li>
            <li>Sender Contact Number :   <b>{{request.senderPhone}}</b></li>
            <li>Sender Address : <b>{{request.currentAddreddaddressLine1}}</b></li>
            <li> <b>{{request.currentAddreddaddressLine2}}</b></li>
            <li>City : <b>{{request.currentCity}}</b></li>
            <h4>Service Provider Details</h4>
            <li>Provider Name : <b>{{request.serviceProvider.name}}</b></li>
            <li>Provider Email : <b>{{request.serviceProvider.email}}</b></li>
            <li>Provider Contact Number :  <b>{{request.serviceProvider.phone}}</b></li>
            <li>Provider Address : <b>{{request.serviceProvider.destinationAddreddaddressLine1}}</b></li>
            <li> <b>{{request.destinationAddreddaddressLine2}}</b></li>
            <li>City : <b>{{request.serviceProvider.destinationCity}}</b></li>
            <li *ngIf = "request.status" >Parcel Status :  <b>{{request.status}}</b></li>
            <button *ngIf = "request.status" [hidden] = "request.status !== 'Parcel Delivered To Receiver'" class="button-section" (click)="onStatusChangeClick(request._id)">Change Status to Parcel Received</button>
        </ul>
        <pagination-controls (pageChange)="p = $event" #api>
        </pagination-controls>
    </div>
    <div *ngIf="parcelReceivingRequests" [hidden]="showDetails" class="form-style-10"><h3>No Parcel Receiving Requests</h3></div>
</div>
</div>
<!--<ul>-->
    <!--<li *ngFor="#doc of message">-->
        <!--{{doc.senderEmail}}-->
    <!--</li>-->
<!--</ul>-->
</body>
</html>